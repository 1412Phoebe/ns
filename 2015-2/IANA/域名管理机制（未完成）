一、域名机制 [RFC文档 1034  1035]


域名

原理：
  Internet通过IP进行计算机的唯一标识和互相访问，在互相访问过程中，对某主机取名称，以代替IP的纯数字形式更便于人类使用Internet。这就需要计算机能够自动的完成名称和IP地址的相互转换。
  
  对计算机（不止是计算机主机，还包含网络、协议族、互连网络和管理组织等）取的名称叫做域名，管理域名和IP映射的系统叫做域名系统DNS（相当于一个数据库）。
  
  域名系统的整体结构为树形结构，其结构由“标签”和“节点”组成，不区分叶子节点和父亲节点，每个节点对应一个实际标签，在标签的使用中规定：兄弟标签不能重名，标签区分大小写，但实际无意义。
  
  树形最上层为根节点，是所有域名节点的开始，是一个空的标签。一个节点的域名是从节点到树根路径沿途各个标签的明细表，用点“.”连接，自下而上，故域名的结构为：主机名.三级域名.二级域名.顶级域名。
  
  顶级域名位于域名的最右端，一般包含两大类：1.国家和地区顶级域名 2.国际顶级域名
  顶级域名的子域为二级域名，二级域名的子域为三级域名。



管理：

1.本地
DNS在本地的管理，首先具备HOSTS.TXT	主文件。此文件由网络信息中心(Network Information Center, NIC)维护下发，本机通过文件传输协议FTP从其他主机处获得和交换。并且此主文件可以被本地系统管理员更新。


2.…………





DNS设计目标
DNS的设计目标影响它的结构。这些目标是：
    主要目标是一致性名称空间，这一名称空间用于指资源。 为了避免特别是由编码引起的问题，名称应当不要求包括网络标识符、地址、路由，或作为该名称一部分的类似信息。
    名称空间结构生成和删除名称的机制必须采用分布式方式， 使用本地缓存改善性能。
凡是需要在获得数据成本、更新速率和缓存精度间进行折中时，数据源应当控制此折中。
    实现成本(诸如便利性)要求DNS通常普遍可用，不被限制在单一应用。我们应当能够使用名称来检索主机地址、邮箱数据和其他尚未确定的信息。所有与名称关联的数据用类型(type)标记， 并且可以将查询限制在单一类型。
    因为我们希望名称空间可用于不同的网络和应用，我们提供由不同协议族或管理使用相同 名称空间的能力。例如，尽管所有协议都有地址概念，协议间主机地址格式不同。 DNS用类以及类型标记所有数据，因此我们可以允许并行使用不同格式类型地址的数据。
    我们希望名称服务器业务独立于携带这些业务的通信系统。一些系统可能希望使用数据报进行查询和响应，并且仅为强调可靠性的业务(例如，数据库更新，长业务)建立虚拟电路；其他系统将排他性地使用虚拟电路。
    系统应当能够适应广泛的主机能力。个人计算机和大型分时主机都应当能够使用此系统，尽管可能采用不同方法。
    
    
    
    
DNS设计假设：
- 整个数据库的大小初期正比于使用此系统的主机数量，但是当邮箱和其他信息被添加到此域系统时， 最终将发展为正比于这些主机上的用户数量。
- 系统中大多数数据变化非常缓慢(例如，邮箱绑定，主机地址)，但是系统应当能够处理变化更为迅速的子集(在秒或分钟等级上)。
- 用于分配数据库职责的管理边界通常对应有一台或多台主机的组织。每个对特定一组域有责任的组织将提供冗余的名称服务器，或者在组织自己的主机上提供，或者在由该组织安排使用的其他主机上提供。
- 域系统的客户端应当能够识别值得信任的名称服务器集合， 在接受转介到这个“ 值得信任的”集合之外的名称服务器前， 客户端优先使用这些名称服务器。
- 更新处理一般模式是用刷新超时分发副本，使更新能够过滤出域系统的用户而不是保证所有副本同时更新。 当由于网络或主机故障， 更新不能进行时，通常的做法是相信旧信息同时继续努力更新它。 
- 在任何有分布式数据库的系统中，特定名称服务器可能遇到仅可以由某个其他服务器回答的查询。处理查询问题的两个常用方法其一是“递归” ，在递归中，第一个服务器继续为客户端在另一个服务器上查询；其二是“迭代”，在迭代中，该服务器引导客户端寻找另一个服务器， 并让该客户端继续查询。 两种方法各有优缺点，但是在数据报形式的访问中优先使用迭代方法。域系统需要执行迭代方法，但是允许将递归方法作为选项。



DNS组成部分
DNS有三个主要部分：
- 域名空间和资源记录(DOMAIN NAME SPACE和RESOURCE RECORDS)， 它们是树状结构名称空间和与这些名称关联的数据的规范。从概念上讲，每个节点和域名空间树的叶子命名一组信息，查询操作是打算从特定集合提取特定类型信息。查询命名感兴趣的域名和描述希望的资源信息类型。 例如，互联网使用它的某个域名标识主机； 地址资源的查询返回互联网主机地址。
- 名称服务器(NAME SERVERS)，它们是服务器程序， 它们保存着有关域树的结构的信息和设置信息。名称服务器可以缓存有关域树的任何部分的结构和设置信息，但是一般而言，特定的名称服务器有关于该域空间的子集的完整信息， 有指向其他名称服务器的指针，这些其他服务器可用于从域树的任何部分引导信息。名称服务器们知道域树的各个部分(它们对其有完整信息)； 对于名称空间的这些部分， 名称服务器被看作是权威(AUTHORITY)。 权威信息被编排进称作区域(ZONEs)的单元，这些区域可以自动分配给为区域中的数据提供冗余服务的名称服务器。
- 解析器(RESOLVERS)，是为了响应客户端请求从名称服务器提取信息的程序。解析器必须能够访问至少一个名称服务器，并使用那个名称服务器的信息直接回答查询，或使用到其他名称服务器的转介，继续查询。解析器一般是系统例行程序，它可直接访问到用户程序；因此在解析器和用户程序间不需要协议。


















二、域名结构 [RFC文档 1591 ] 


