</br>点评智能手机的指纹验证解锁： 
</br>一、对于原简单密码方式解锁的改进之处 
</br>二、对于原简单密码方式解锁的存在的问题 
</br>三、针对不同智能手机的指纹验证解锁机制的攻击方法、案例


</br>一、对于原简单密码方式解锁的改进之处 
</br>与传统四位数字解锁码相比，指纹识别技术具有免记忆性、身份识别主体（指纹）与个体具有不可分离性、盗取难度复杂性、使用便捷性等优势。 
</br>指纹识别技术的优点： 
</br>指纹蕴含的信息十分庞杂，作为人体独特的生物特征能够可靠的鉴别身份； 
</br>人的十指可以产生约4950个独立的、可测量的特征点，鉴别身份十分可靠； 
</br>指纹扫描的速度快且操作方便； 
</br>指纹读取设备成本低、容易小型化 

</br>指纹识别技术的缺点： 
</br>采集设备提取指纹时，手指需与其进行直接接触； 
</br>特殊情况下，对某些特征点少或受损严重的指纹难以成像； 
</br>指纹采集设备上残留的印迹、印痕等指纹特征信息存在被盗的可能性。 

</br>指纹识别的概念与原理： 
</br>什么是指纹？ 
</br>指纹就是末端表皮层上或隆起或凹陷下去的纹路图案。在指纹的纹路中蕴含了大量特征信息，如纹型、模式去、核心点、三角点和纹数等总体特征， 以及终结点、分叉点、分歧点、孤立点、环点、短文等细节特征、指纹识别就是依赖总体特征和细节特征来唯一确认一个人的身份。指纹具有唯一性 遗传性和不变性。 指纹识别是指通过比较不同指纹的细节特征点来进行鉴别的技术，它是生物识别技术(通过对人类生物特征进行身份认定的技术)的一种，人类生物 特征具有唯一性、可测量、可自动识别与验证、终身不变等特点，因此生物识别技术能提供比密码、智能卡、令牌更高层级的安全保护。 
</br>人的指纹有50亿分之一的重复概率，奠定了指纹识别技术极高的安全性。 
</br>指纹识别技术的原理和其它生物识别技术的原理相似。它是利用人体的指纹特征对个体身份进行区分和鉴定。在所有的生物识别技术中指纹识别技术是目前最为成熟，也被应用最广的生物识别技术。这主要因为指纹采用的过程对人们来讲非常简单，指纹识别的准确率高的原因。严格来讲，指纹 识别的原理包括指纹采集原理、指纹特征提取原理和指纹特征匹配原理三大部分。指纹采集原理主要是根据指纹的几何特性或生理特性，通过各种 传感技术把指纹表现出来，形成数字化表示的指纹图案。  
</br>由于指纹的嵴和峪的几何特征不同，主要表现为嵴是突起的，峪是凹下的，所以在接触到光线时，其反射光的强度也就不同。在接触到平面时，其在就平面上形成的压力也就不同。另一方面，由于指纹的嵴和峪的生理特征不同，主要表现为：嵴和峪的温度不同，其导电性也不同，其对波长的反馈 也不同。通过这些几何的、生理的特性的不同，把人的指纹采集到计算机系统中形成指纹图像。  
</br>指纹特征分析的原理是对指纹图案的整体特征和细节特征进行提取、鉴别的原理。其分析的对象包括纹形特征和特征点的分布、类型，以及一 指纹识别是通过指纹传感器采集指纹信息， 比较不同指纹细节的特征点进行身份鉴别。指纹识别 技术发展较早，识别算法较为成熟，目前绝大多数 移动智能终端中采用的生物识别技术均为指纹识别。从 全球范围来看，指纹识别占整个生物识别市场近60%的市场份额，有超过几千家的指纹识别厂商 生产数百 种以上的指纹识别产品，而其他生物识别技术厂商不 足其十分之一。早在2011年，就有搭载指纹识别功能 的智能终端问世，但由于用户体验、 精确度等原因并 没有引起足够重视。随着终端性能的提升、指纹识别 解决方案的成熟以及识别算法的不断优化，具有指纹 识别的智能终端愈发普及， 目前支持指纹识别功能的 移动智能终端出货量有近亿台。 
</br>2013年9月，苹果公司推出的iPhone 5s手机中 使用了 Touch ID 指纹识别技术， Touch ID 指纹传感器采用电容式技术原理， 检测指 纹谷和脊的距离 差导致的阵列中不同电容的差异，将指纹信息通过特殊计算方式转换为指纹模板，以方便存储和比对。 
</br>指纹识别模组主要由芯片、保护层、开关件、软板、主板基板等组成，指纹识别模组采用不同的组件组合，模组设计也有不同的方式。 其中一种是把芯片与感应器集成在一起的单芯片模式，这种模式的优点是可以采用比较旧的芯片产线进行生产，模组结构最简单，模组配件成本和组装 成本很低，软、硬件同时固化在单芯片里面，安全性相对也高一些。缺点是芯片内核晶片的面积很大，晶片成本高，同时产品结构设计时要考虑芯片放置 位置、外围线路走线的空间限制等。 

</br>另一种是把芯片和感应器分开设计的分离模式，也就是类似传统的电容触摸屏模式，指纹识别芯片相当于触控芯片，感应器想当于电容屏的感测sensors。 这种模式优点是产品的结构设计可以很灵活，芯片可以放在空间较宽裕的主板上，感应器可以根据用户的使用习惯需要放置在产品的任何表面，模组组装 被分散并集成到其它产品的生产工序里面，成本十分低廉。目前这种模式的缺点还没有成熟的感应器线路优化方案，感应器大量的外围线路连接成本 很高，除非集成到其它解析度相近的表面器件线路里面，进行分时或分压驱动 现在市场上采用的更多是的上面两种模式的混和模式，即指纹识别芯片和感应器分开由芯片圆晶厂和硅片厂各自生产，统一到芯片封装厂把芯片内核晶片 与硅片厂进行外围线路整合封装成一个芯片组固件，再给模组厂进行外围的零组件封装成单个模组出货。这种混和模式的芯片组封装也有不同的方式，有些芯片组是把芯片晶片和感应器分别焊接在一个基片主板上，再从基片主板引出线路到连接FPC或产品主板上；有些芯片组是把芯片晶片先焊接在感应器 上，直接从感应器上引出线路到基片主板、连接FPC或产品主板上。指纹信息的采集方法有光学图像扫描式、直接电容感应式、主动按压电容感应式、扫描 电容感应式、直接射频反射式、扫描射频反射式以及电容感应和射频反射混和式，采集动作工作方式主要有三种：按压、接触、滑擦。 

</br>在按压式的产品中，苹果手机采用了自家AuthenTec提供的指纹识别芯片，AuthenTec（美国公司）是世界领先的PC、无线设备以及访问控制市场指纹认证 传感器和解决方案的提供商。而在2012年7月27日，苹果以3.56亿美元收购了该公司。它研发的指纹识别传感器是基于电容和无线射频两种模式，传感器 是与iPhone和iPad的Home键相结合，最上层为蓝宝石盖板。该传感器是由台积电完成晶圆代工，台湾精材、晶方科技完成晶圆级封装，日月光负责后续 封装与测试以及SiP模组制作。魅族MX4 Pro手机采用Goodix汇顶科技提供的指纹识别芯片，采用的电容感应器模式，集成电源开关模仿苹果手机的操作 动作。魅族的指纹识别模组现在由硕贝德进行封测组装。 
</br>在接触式的产品中，主要有 vivo Xplay 3S、华为Mate7以及OPPO N3手机，采用Fingerprint Cards AB（FPC）提供的芯片，由科泰进行封测组装。FPC的芯片是把硬件由安防领域直接挪用过来，只是对芯片的软件算法在手机应用上进行了优化，所以芯片面积比较大。 
</br>滑擦式的产品主要有三星Galaxy S5和HTC One Max手机，采用新思Synaptics Validity提供的芯片，由南茂和泰林封测组装。 

</br>目前指纹识别模组在手机上应用的主要障碍是应用软件开发、安全通讯协议及检测标准。首先由于行业并没有一个统一的标准，也没有统一的检测仪器 来定义产品的合格标准。这跟现在的电容屏市场情形一样，一方面给了手机终端厂商很大的发挥余地，另一方面也加大了手机终端厂商前期产品的开发 难度。其次是安卓系统收回了指纹识别功能模块，非苹果阵营的厂商需要自己开发基于ARM指令的指纹识别应用软件，需要自己有底层系统数据处理 能力。三是安全协议的接口兼容性，厂商要能针对行业系统开发出兼容的数据交换安全接口，在保证指纹识别数据的安全性前提下，又能跟其它软件 进行数据交换与跟踪，这需要在行业有很强的系统整合能力。这就导致了目前要上指纹识别产品的手机终端厂商，要么自己的软件开发调试能力，要么 指纹芯片厂商有能力提供完整的软件解决方案给你采用，并有能力给你提供后期的测试、调试服务。 

</br>指纹识别并非唯一的安全认证模式。不管是传统的密码输入安全认证模式，还是现在的生物安全认证模式，都只是提供了不同的安全认证信息生成方法 主要的安全保护措施仍然是数据加密与解密的过程，并不能完全保证认证信息的绝对安全。从这个层面讲，指纹识别只是加强了密码生成的复杂性和 数据取得的唯一性。 从根本上来讲，指纹识别提供的安全认证功能与传统密码功能是一致的，并且硬件产品最后的安全屏障，还是机械密码认证，其它所有的安全认证方法， 只是为了方便解决密码生成的快捷性和密码数据取得的唯一性，都只是机械密码认证的补充。 

</br>移动智能终端在使用生物识别技术的同时，涉及 到的生物信息的安全隐患也备受关注，智能终端可能 面临着以下3个方面的安全问题： 
</br>（1）增加了设备被入侵的可能性：黑客可以通过伪造生物特征（如指纹膜等）入侵手机，也可以通过窃取生物信息模板、镜像还原生物信息甚至通过生物 信息模板替换等方式冒用合法用户身份，达到入侵手机的目的。 位于柏林的安全实验室SRLabs曾演示移动智能终 端指纹识别安全功能的漏洞，利用用户留在屏幕的指纹制作指纹模具成功解锁了手机，并展示了使用照片 开发指纹模具的过程。可以通过指纹模具成功控制设备，甚至获取存储在这台设备的账号信息。 
</br>（2）用户生物信息泄露：黑客可能会还原手机中存储或网络中传输的生物信息模板，得到原始的生物信息，而生物密码一旦被窃取将终身无法更改，从而 面临身份冒用的风险。 
</br>（3）恶意软件调用：移动智能终端作为生物信息新的载体，与传统生物识别设备相比具有复杂的使用环境，面临恶意软件调用的风险，恶意软件可能冒用 用户身份进行恶意操作，如窃取资费、恶意下载收费软件等，这将会给用户带来经济损失。 

</br>Iphone 5s的指纹识别工作原理：
</br>传感器是采用的电容触控技术，电容技术核心其实是依靠人类皮肤细胞具备一定量的电阻，皮肤的组织结构可以形成沟壑，当两者挤压在一起时就可以测量到其中的变化，而且这种变化基本上在同一个指纹上是不会变的。事实上苹果iPhone5s上的指纹传感器是通过发出射频信号 探测手指纹路的，识别过程指纹信息是加密的而且并不依赖手指表层的死皮组织来扫描。同时苹果也解释称不会通过拍照、复制、保存皮肤、上传iCloud等 方式泄露指纹信息，因此从这点来看，人为的安全性得到了保障。 


</br>二、对于原简单密码方式解锁的改进之处 
</br>指纹识别并非唯一的安全认证模式。不管是传统的密码输入安全认证模式，还是现在的生物安全认证模式，都只是提供了不同的安全认证信息生成方法，主要的安全保护措施仍然是数据加密与解密的过程，并不能完全保证认证信息的绝对安全。从这个层面讲，指纹识别只是加强了密码生成的复杂性和数 据取得的唯一性。从根本上来讲，指纹识别提供的安全认证功能与传统密码功能是一致的，并且硬件产品最后的安全屏障，还是机械密码认证，其它所有 的安全认证方法，只是为了方便解决密码生成的快捷性和密码数据取得的唯一性，都只是机械密码认证的补充。 


</br>三、对于原简单密码方式解锁的存在的问题 
</br>数字密码解锁 
</br>对于数字密码解锁方式来说，用户需要输入4个数字来解锁手机。这样，密码的范围会限制于0到9999之间所有的数字（1 万种可能）。但是用户为了便于 记忆，多数情况下都会采用与自己相关的数字作为密码，例如：生日，电话号码，或者比较特殊的数字信息等。因此，这种解锁方式的安全性不高。 

</br>图形密码解锁 
</br>用户不需要记忆很长的字符串作为密码口令，而是采用图形的识别或者助记来进行系统身份的验证。如果备选图形的数量足够大，图形密码的密钥空间可 以远远大于文本密码的密钥空间。这样，采用图形密码可以更好地抵抗字典攻击和暴力破解等手段的攻击。因此，与文本密码相比，图形密码能够提供更 高级别的安全性。根据图形密码不同方式的身份验证，可将图形密码的身份验证方案分为两大类。
</br>第一种是基于识别型的图形密码方案。
</br>采用该方法的验 证过程，用户可以预先选定并且记忆一些特定图片。在验证身份的过程中，系统再从图案库中随机抽取出一些图片。最后，用户从所有的图片中选择预先 设定的图片，从而实现基于识别型的图形密码方案的身份验证过程。RealUser 公司设计的 Passfaces 方案是利用人脸图像识 别来实现的一种基于识别 型的图形密码认证方案。在密码设置阶段，用户从人脸数据库中挑选出多幅图像 （例如：4 幅）作为系统的口令。另外一种基于识别型的图形密码方案 的实现方式是由开发者 Sobrado 和 Birget 设计的 Pass-Objects方案。该方案是通过用户预先选择一些图形物体来完成密码的设置阶段。在验证的过程 中，系统抽取其它图形，并生成一个由这些图形组成的矩阵。然后，用户需要在这个矩阵中正确的图形，以完成密码的认证过程。

</br>第二种图形密码的身份 认证方案是：
</br>基于回忆型的图形密码的身份验证。这种方法要求用户重复以前的密码设定过程。最典型的基于回忆型的图形密码的身份认证方案是开发者 Jermyn、Thorpe和van Oorschot等人设计的DAS( Draw A Secret)，即“画出秘密”方案。在设定密码的阶段，DAS系统会先要求用户在2D栅格上画出进入系 统的口令。在密码的验证阶段，DAS系统会显示同样的2D栅格，并要求用户执行设定密码过程中的画法。如果用户画出的图形不仅与设定密码的图形一致， 而且画出的图形还按照预先设定图形的顺序经过相同的方格，那么系统的认证过程将接受用户的验证请求。如果上述的两个条件有任意一个条件没能被满 足，DAS系统则警告用户没有通过认证过程。 

</br>Android系统手机的手势密码 
</br>手势密码即3×3的点阵组成的图形密码。手势密码要求至少由连续的4个点组成，最多9个点。实际上这9个点是从0到8组成的9个数字，Android手势密码是 将这些组成密码的数字先转换为十六进制，然后对其做SHA-1的哈希计算，最终将SHA-1的哈希值储存在手机中，存储路径通常是，data\system\ gesture.key。通过计算，4~9位的手势密码一共有985824种组合。 目前对应这些密码的彩虹表已经集成在大多数的手机取证工具中。 

</br>破解方法： 
</br>屏幕污点反射：智能手机手势密码解锁时必然会在屏幕上留下痕迹，
</br>密码清除：图形锁的密文保存在 GESTURE.KEY 文件中，如果能够删除 GESTURE.KEY 文件，自然就不需要输入图形密码了。在取证端下载 ADB（Android 程序调试桥）工具包，安装 ADB环境，打开手机的USB 调试模式，将手机连接， 使用”adbshell“命令进入爱丁堡命令环境，通过”rm/data/system/gesture.key”命令就可以删除 GESTURE.KEY 文件，清除图形密码。 密钥解析和口令绕过。 
</br>Android系统手机复杂密码 
</br>PIN码密码和复杂密码非常相似，复杂密码的组成规则要复杂的多，其组成规则为4~16位字符空间，每个字符空间有94个符号 可选，包括大小写字母、数字、标点符号，但不能包括空格,由这些符号组成的密码连同一个随机整数一起组成密文，经过SHA-1加密后储存在 password.key文件中，这个文件同样储存在data\system\路径下，文件大小为20个字节。因此PIN码密码是包含于复杂密码的，经计算，复杂密码共有 3.7×1031种组合，按照不同密码长度来计算密码组合。安全性较高。


</br>参考资料： 
</br>1、基于智能手机终端的指纹识别算法优化实现 袁长新 
</br>2、锁住你的秘密iPhone5sTouchID探秘 _技术宅 
</br>3、Android手机屏幕图形锁问题分析 _陈兆烟 
</br>4、移动智能终端生物识别发展与挑战 _傅山 
</br>5、补漏行动应对iOS安全问题 陈耕艺 
</br>6、手机指纹识别安全引争议本刊综合 
</br>7、手机中指纹识别技术的研究与实现 _朱一伦 
</br>8、智能指纹识别系统的设计 _尹立强 
</br>9、智能手机指纹识别系统的设计 _楼京京
